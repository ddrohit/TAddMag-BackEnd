<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: server.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: server.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>require('dotenv').config()
const express = require('express')
const chalk = require('chalk');
const db = require("./db");
const dbsetup = require("./db/dbsetup")
const path = require('path');
const app = express();
const cors = require('cors');
const port = 5000;

app.use(cors());
app.use(express.json());
app.use(express.urlencoded({
  extended: true
}));


/**
 * @name Telangana_Ad_Mag
 * @file This is the Starting point
 * @author Rohit Dasamantharao
 * @version 1
 */


require('./routes')(app);
const dir = path.join(__dirname, 'static');
app.use('/static', express.static(dir));
app.use(require("./cors/middleware").checkToken);

//Starting The Whole App
(async ()=>{

  //Conecting to database
  try{
    const Message = await db.connect({
      user:process.env.DATABASE_USER,
      host:process.env.DATABASE_HOST,
      database:process.env.DATABASE_DATABASE,
      password:process.env.DATABASE_PASSWORD,
      port:process.env.DATABASE_PORT
    })
    console.log(chalk.greenBright.bold(Message));
    console.log(chalk.greenBright.bold(await dbsetup.setup()));
    //If connected Listing to the port
    app.listen(port,(err)=>{
      console.log(chalk.greenBright.bold(`App is listening on port ${port}`));
    });
  }
  catch(err){
    console.log(err);
  }
})();</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-db.html">db</a></li><li><a href="module-GeneralFunctions.html">GeneralFunctions</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Fri Dec 17 2021 18:47:06 GMT+0530 (India Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
